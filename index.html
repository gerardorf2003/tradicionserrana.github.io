<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tradici√≥n Serrana | Mercado Local</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root { 
    --verde-serrano: #2d5a27; 
    --verde-oscuro: #1b3d1a;
    --crema: #fdfcf9; 
    --tierra: #8b5a2b;
}
body { font-family: 'Poppins', sans-serif; background-color: var(--crema); color: #333; }
.navbar { background: linear-gradient(135deg, var(--verde-serrano), var(--verde-oscuro)) !important; }

.hero-section {
    background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
    url('https://images.unsplash.com/photo-1495539406979-bf61750d38ad?auto=format&fit=crop&w=1470&q=80');
    background-size: cover;
    background-position: center;
    height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
}
.hero-section h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3.8rem;
    letter-spacing: 3px;
}

.nav-tabs { border: none; justify-content: center; margin-top: -30px; position: relative; z-index: 10; }
.nav-tabs .nav-link {
    background: white;
    border: none;
    border-radius: 30px;
    padding: 12px 30px;
    margin: 0 10px;
    color: var(--verde-serrano);
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.nav-tabs .nav-link.active {
    background-color: var(--tierra) !important;
    color: white !important;
    transform: translateY(-5px);
}

#carouselInicio img {
    height: 450px;
    object-fit: cover;
}
.product-card { 
    border-radius: 25px; 
    transition: all 0.4s ease; 
    background: white;
    border: 1px solid #eeeeee;
    overflow: hidden;
}
.product-card:hover { 
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.1); 
}
.card-img-top { height: 280px; object-fit: cover; }

.btn-contact {
    background: linear-gradient(135deg, var(--verde-serrano), var(--verde-oscuro));
    color: white;
    border-radius: 30px;
    padding: 12px;
    font-size: 0.85rem;
    font-weight: 600;
    border: none;
}
.btn-contact:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.info-step {
    text-align: center;
    padding: 40px 20px;
    border-radius: 20px;
    background: #fff;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    height: 100%;
}

footer { background: linear-gradient(135deg, #1b3d1a, #2d5a27); }
</style>
</head>

<body>

<nav class="navbar navbar-dark shadow-sm py-3">
<div class="container">
<a class="navbar-brand fw-bold fs-3" href="#">üèîÔ∏è Tradici√≥n Serrana</a>
<a href="vendedor.html" class="btn btn-outline-light rounded-pill px-4">Acceso Vendedores</a>
</div>
</nav>

<header class="hero-section">
<div>
<h1>TRADICI√ìN SERRANA</h1>
<p class="lead mb-4">Un pedazo de nuestra tierra en cada producto.</p>
<a href="#catalogo" class="btn btn-light btn-lg rounded-pill px-4 fw-bold">Explorar Productos</a>
</div>
</header>

<div class="container">

<ul class="nav nav-tabs" id="myTab">
<li class="nav-item">
<button class="nav-link active" data-bs-toggle="tab" data-bs-target="#inicio">Inicio</button>
</li>
<li class="nav-item">
<button class="nav-link" data-bs-toggle="tab" data-bs-target="#catalogo">Ver Cat√°logo</button>
</li>
</ul>

<div class="tab-content mt-5">

<div class="tab-pane fade show active" id="inicio">

<h2 class="text-center mb-5" style="font-family: 'Playfair Display', serif;">¬øPor qu√© Tradici√≥n Serrana?</h2>

<div class="row g-4 mb-5">
<div class="col-md-4"><div class="info-step"><h4>üöú Origen Local</h4><p class="text-muted">Productos creados por manos de nuestra serran√≠a.</p></div></div>
<div class="col-md-4"><div class="info-step"><h4>ü§ù Comercio Justo</h4><p class="text-muted">Trato directo con el productor.</p></div></div>
<div class="col-md-4"><div class="info-step"><h4>‚ú® Calidad √önica</h4><p class="text-muted">Sabores y artesan√≠as aut√©nticas.</p></div></div>
</div>
<div id="carouselInicio" 
     class="carousel slide mb-5 shadow rounded-5 overflow-hidden" 
     data-bs-ride="carousel"
     data-bs-interval="3000">
<div class="carousel-item active">
<img src="imagen1.jpg" class="d-block w-100">
</div>
<div class="carousel-item">
<img src="imagen2.jpg" class="d-block w-100">
</div>
<div class="carousel-item">
<img src="imagen3.jpg" class="d-block w-100">
</div>
</div>
<button class="carousel-control-prev" type="button" data-bs-target="#carouselInicio" data-bs-slide="prev">
<span class="carousel-control-prev-icon"></span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#carouselInicio" data-bs-slide="next">
<span class="carousel-control-next-icon"></span>
</button>
</div>


  <button class="carousel-control-prev" type="button" data-bs-target="#carouselInicio" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>

  <button class="carousel-control-next" type="button" data-bs-target="#carouselInicio" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div

</div>

<div class="tab-pane fade" id="catalogo">

<h2 class="text-center mb-4" style="font-family: 'Playfair Display', serif;">Nuestro Cat√°logo</h2>

<div class="row mb-4">
<div class="col-md-6 mx-auto">
<input type="text" id="buscador" class="form-control rounded-pill p-3 shadow-sm" placeholder="Buscar producto...">
</div>
</div>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5" id="contenedor-productos"></div>

</div>
</div>
</div>

<footer class="py-5 text-white mt-5 text-center">
<div class="container">
<h5>üèîÔ∏è Tradici√≥n Serrana</h5>
<p class="small">Apoyando el comercio local y el talento de nuestra tierra.</p>
<p class="small opacity-75">¬© 2026 Todos los derechos reservados</p>
</div>
</footer>

<div class="modal fade" id="modalContacto" tabindex="-1">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content rounded-4 shadow">
<div class="modal-header text-white" style="background: linear-gradient(135deg, #2d5a27, #1b3d1a);">
<h5 class="modal-title">Datos del Vendedor</h5>
<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body text-center p-4">
<h4 id="modal-producto" class="fw-bold mb-3"></h4>
<p><strong>üë§ Vendedor:</strong><br><span id="modal-vendedor"></span></p>
<p><strong>üìç Ubicaci√≥n:</strong><br><span id="modal-ubicacion"></span></p>
<p><strong>üìû Tel√©fono:</strong><br><span id="modal-telefono"></span></p>
<p><strong>‚úâÔ∏è Correo:</strong><br><span id="modal-email"></span></p>
<div class="d-grid gap-2 mt-4">
<a id="btn-whatsapp" target="_blank" class="btn btn-success rounded-pill">WhatsApp</a>
<a id="btn-correo" class="btn btn-outline-dark rounded-pill">Enviar Correo</a>
</div>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import { getFirestore, collection, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

const firebaseConfig = {
apiKey: "TU_API_KEY",
authDomain: "TU_AUTH_DOMAIN",
projectId: "TU_PROJECT_ID",
storageBucket: "TU_STORAGE_BUCKET",
messagingSenderId: "TU_MSG_ID",
appId: "TU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const contenedor = document.getElementById('contenedor-productos');
const buscador = document.getElementById("buscador");

const q = query(collection(db, "productos"), orderBy("createdAt", "desc"));

onSnapshot(q, (snapshot) => {
contenedor.innerHTML = '';
snapshot.forEach((doc) => {
const p = doc.data();

contenedor.innerHTML += `
<div class="col">
<div class="card product-card h-100">
<img src="${p.imagenUrl}" class="card-img-top">
<div class="card-body p-4">
<h5 class="fw-bold">${p.nombre}</h5>
<p class="text-muted small">${p.descripcion}</p>
<div class="d-grid">
<button class="btn btn-contact"
onclick="abrirModalContacto(
'${p.nombre}',
'${p.vendedorNombre || "Productor Local"}',
'${p.ubicacion || "Sierra"}',
'${p.telefono || ""}',
'${p.vendedorEmail}'
)">
Contactar Vendedor
</button>
</div>
</div>
</div>
</div>`;
});
});

window.abrirModalContacto = function(producto,vendedor,ubicacion,telefono,email){
document.getElementById("modal-producto").innerText = producto;
document.getElementById("modal-vendedor").innerText = vendedor;
document.getElementById("modal-ubicacion").innerText = ubicacion;
document.getElementById("modal-telefono").innerText = telefono ? "+52 " + telefono : "No disponible";
document.getElementById("modal-email").innerText = email;

const mensaje = encodeURIComponent(`Hola ${vendedor}, me interesa tu producto "${producto}" que vi en Tradici√≥n Serrana.`);

if(telefono){
document.getElementById("btn-whatsapp").href = `https://wa.me/52${telefono}?text=${mensaje}`;
document.getElementById("btn-whatsapp").style.display="block";
}else{
document.getElementById("btn-whatsapp").style.display="none";
}

document.getElementById("btn-correo").href = `mailto:${email}?subject=Inter√©s en ${producto}`;

new bootstrap.Modal(document.getElementById("modalContacto")).show();
};

buscador.addEventListener("input", () => {
const texto = buscador.value.toLowerCase();
const cards = document.querySelectorAll(".product-card");
cards.forEach(card => {
const nombre = card.querySelector("h5").innerText.toLowerCase();
card.parentElement.style.display = nombre.includes(texto) ? "block" : "none";
});
});
</script>

</body>
</html>
